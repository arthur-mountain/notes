# CIDR 與遮罩的進階解析

## `/24` 和 `/25` 是什麼？

這些是 **CIDR(無分類域間路由)** 表示法的一部分，用來簡化子網遮罩的表示。

1. `/24` 表示子網遮罩中有 **24 位是網路位**，剩下的位是主機位。

   - 遮罩: `255.255.255.0`(二進制: `11111111.11111111.11111111.00000000`)

   - 主機位數: 8 位，總共有 `2^8 = 256` 個地址，其中 2 個地址(網路地址和廣播地址)保留。

   - **可用 IP 地址數量**: 256 - 2 = 254。

2. `/25` 表示子網遮罩中有 **25 位是網路位**，剩下的位是主機位。

   - 遮罩: `255.255.255.128`(二進制: `11111111.11111111.11111111.10000000`)

   - 主機位數: 7 位，總共有 `2^7 = 128` 個地址，其中 2 個地址(網路地址和廣播地址)保留。

   - **可用 IP 地址數量**: 128 - 2 = 126.

---

## 範例: 192.168.1.0/24

假設網路是 `192.168.1.0/24`，它的遮罩是 `255.255.255.0`，劃分如下:

- **網路部分**: `192.168.1`(前 24 位)

- **主機部分**: `0-255`(後 8 位)

整個子網內的 IP 地址範圍是:

```plaintext
192.168.1.0(網路地址，不可用)
192.168.1.1 至 192.168.1.254(可用 IP)
192.168.1.255(廣播地址，不可用)
```

---

## 範例: 將 `/24` 劃分成兩個 `/25` 的子網

1. **遮罩更新**:

從 `/24` 改為 `/25`，遮罩變為 `255.255.255.128`(25 位網路位，7 位主機位)。

2. **劃分結果**:

   - 第一個子網: `192.168.1.0/25`

     - 網路地址: `192.168.1.0`

     - 可用 IP 範圍: `192.168.1.1 - 192.168.1.126`

     - 廣播地址: `192.168.1.127`

   - 第二個子網: `192.168.1.128/25`

     - 網路地址: `192.168.1.128`

     - 可用 IP 範圍: `192.168.1.129 - 192.168.1.254`

     - 廣播地址: `192.168.1.255`

這樣，原來 `/24` 的大子網被劃分成了兩個小子網，每個子網的可用 IP 減少，但網路通信的負擔也減輕.

---

## 子網遮罩的作用和用途

1. **控制子網大小**:

   - **遮罩的長度決定了子網的大小和每個子網內的可用 IP 數量**。

     遮罩越長，網路部分越多，主機部分越少，子網內的 IP 範圍就越小。

   - 適用於有不同規模設備數量需求的場景.

2. **幫助設備識別子網**:

   - 設備通過遮罩和自己的 IP 地址計算出「網路部分」，從而判斷另一個設備是否在同一子網內。

   - 如果在同一子網，設備直接通信；否則需要通過路由器.

3. **實現網路隔離和流量優化**:

   - 子網之間隔離廣播流量，減少干擾.

---

## 總結

- **CIDR `/24` 和 `/25`**: 用來表示子網遮罩的長度，影響子網的大小和可用 IP 數量.

- **子網路遮罩**將 IP 位址劃分為「網路位」與「主機位」，決定了每個子網的範圍與大小。

- **子網劃分的目的**: 控制流量、提高管理效率、減少廣播干擾.
