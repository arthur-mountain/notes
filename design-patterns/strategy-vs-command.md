## âœ… Strategy vs Command â€” è¡¨é¢ç›¸ä¼¼ vs æœ¬è³ªå·®ç•°

| é¢å‘                   | **Strategy Pattern**                | **Command Pattern**                       |
| ---------------------- | ----------------------------------- | ----------------------------------------- |
| ğŸ¯ è¨­è¨ˆæ„åœ–ï¼ˆIntentï¼‰  | **å°è£ä¸åŒçš„æ¼”ç®—æ³•é‚è¼¯**ï¼Œå¯äº’æ›    | **å°è£ä¸€å€‹å…·é«”çš„æ“ä½œæˆ–å‘½ä»¤**ï¼Œå¯æ’ç¨‹/æ’¤éŠ· |
| ğŸ­ æ‰®æ¼”è§’è‰²            | å¯æ›¿æ›çš„ã€Œè™•ç†é‚è¼¯ã€                | å¯åŸ·è¡Œçš„ã€Œè¡Œç‚ºç‰©ä»¶ã€                      |
| ğŸ“¦ Input               | é€šå¸¸æ˜¯ç›¸åŒçš„è³‡æ–™çµæ§‹                | é€šå¸¸æ¯å€‹ command æœ‰è‡ªå·±çš„åƒæ•¸             |
| ğŸ§  æŠ½è±¡ä»‹é¢ç„¦é»        | ç›¸åŒçš„ç›®æ¨™ï¼ˆe.g. `.process(data)`ï¼‰ | ç›¸åŒçš„è¡Œç‚ºï¼ˆe.g. `.execute()`ï¼‰           |
| ğŸ§° å¸¸è¦‹æ‡‰ç”¨            | æ¼”ç®—æ³•åˆ‡æ›ã€ç­–ç•¥åˆ†æ´¾ã€AI æ¨¡å¼é¸æ“‡   | é ç«¯å‘¼å«ã€æ’ç¨‹ã€undo/redoã€äº‹ä»¶è§¸ç™¼       |
| ğŸ” æ˜¯å¦æ”¯æ´æ’¤éŠ·/åºåˆ—åŒ– | âŒ é€šå¸¸ä¸æ”¯æ´                       | âœ… æ”¯æ´ undoã€redoã€åºåˆ—åŒ–åŸ·è¡Œ            |
| ğŸ“œ æŸ¥è¡¨åˆ†æ´¾å¸¸è¦‹æ–¹å¼    | æ ¹æ“šã€Œç­–ç•¥ keyã€é¸æ“‡ç­–ç•¥            | æ ¹æ“šã€ŒæŒ‡ä»¤é¡å‹ã€é¸æ“‡è™•ç†å™¨                |

## ğŸ§  ç”¨åŒä¸€å€‹ä¾‹å­ä¾†å€åˆ†

### ğŸš€ å‡è¨­ï¼šä¸€å€‹ç·šä¸Šè³¼ç‰©ç³»çµ±

### â–¶ Strategy Pattern çš„æƒ…å¢ƒ

**ã€Œæ ¹æ“šä¸åŒåœ‹å®¶çš„ç¨…ç‡é‚è¼¯ä¾†è¨ˆç®—ç¸½åƒ¹ã€**

```ts
interface TaxStrategy {
  calculate(order): number;
}

class USTaxStrategy implements TaxStrategy {
  calculate(order) {
    return order.price * 1.1;
  }
}
class EUTaxStrategy implements TaxStrategy {
  calculate(order) {
    return order.price * 1.2;
  }
}

const strategyMap = {
  US: new USTaxStrategy(),
  EU: new EUTaxStrategy(),
};

strategyMap[region].calculate(order); // ğŸ”„ æ ¹æ“šç­–ç•¥é¸æ“‡è™•ç†é‚è¼¯
```

â¡ **é‡é»æ˜¯ï¼šæ‰€æœ‰ç­–ç•¥éƒ½åœ¨è™•ç†ã€Œç›¸åŒçš„å•é¡Œã€ï¼Œåªæ˜¯é‚è¼¯ä¸åŒã€‚**

---

### â–¶ Command Pattern çš„æƒ…å¢ƒ

**ã€Œä½¿ç”¨è€…å¯ä»¥ç™¼å‡ºä¸åŒé¡å‹çš„æ“ä½œæŒ‡ä»¤ã€**

```ts
interface Command {
  execute(): void;
}

class CreateOrderCommand implements Command {
  execute() {
    /* å»ºç«‹è¨‚å–® */
  }
}

class CancelOrderCommand implements Command {
  execute() {
    /* å–æ¶ˆè¨‚å–® */
  }
}

const commandRegistry = {
  create: new CreateOrderCommand(),
  cancel: new CancelOrderCommand(),
};

commandRegistry[commandType].execute(); // ğŸ”„ æ ¹æ“šæŒ‡ä»¤é¸æ“‡è¦åŸ·è¡Œçš„è¡Œç‚º
```

â¡ **é‡é»æ˜¯ï¼šæ¯å€‹ command éƒ½æ˜¯å®Œå…¨ä¸åŒçš„æ“ä½œï¼Œä¸åªæ˜¯é‚è¼¯å·®ç•°ï¼Œè€Œæ˜¯ç›®çš„ä¸åŒã€‚**

---

## ğŸ” å°æŠ€å·§ï¼šä¸€ç§’å€åˆ†å®ƒå€‘

| å•é¡Œ                                           | å¦‚æœä½ å›ç­”... | å®ƒå¯èƒ½æ˜¯ |
| ---------------------------------------------- | ------------- | -------- |
| ã€Œé€™äº›ç‰©ä»¶éƒ½æ˜¯åœ¨åš**åŒä¸€ä»¶äº‹**çš„ä¸åŒæ–¹å¼å—ï¼Ÿã€ | âœ… æ˜¯         | Strategy |
| ã€Œé€™äº›ç‰©ä»¶éƒ½æ˜¯åœ¨åš**å®Œå…¨ä¸åŒçš„äº‹**å—ï¼Ÿã€       | âœ… æ˜¯         | Command  |

## ğŸ§  æ›´æ·±çš„æ¯”å–»ï¼ˆæ­¦ä¿ é¢¨ ğŸ˜„ï¼‰

- **Strategy** åƒæ˜¯ä½ å­¸æœƒäº†ä¸åŒæµæ´¾çš„ã€ŒåŠæ³•ã€ï¼šåŒæ¨£éƒ½æ˜¯ã€Œæ”»æ“Šæ•µäººã€ï¼Œä½†æ–¹æ³•ä¸åŒï¼ˆå¿«åŠã€é‡åŠã€æ°£åŠï¼‰

- **Command** åƒæ˜¯ä½ æœ‰ä¸€å †ä¸åŒã€Œæ­¦åŠŸæ‹›å¼ã€ï¼šæœ‰çš„æ”»æ“Šã€æœ‰çš„é˜²ç¦¦ã€æœ‰çš„æ²»ç™‚ã€æœ‰çš„ç¬ç§»ï¼ŒåŠŸèƒ½å®Œå…¨ä¸åŒ

## âœ… ç¸½çµ

| Strategy             | Command                              |
| -------------------- | ------------------------------------ |
| åŒä¸€ä»¶äº‹ï¼Œä¸åŒåšæ³•   | ä¸åŒçš„äº‹ï¼Œå„è‡ªç¨ç«‹                   |
| æŠ½æ›çš„æ˜¯ã€Œé‚è¼¯ã€     | æŠ½æ›çš„æ˜¯ã€Œæ“ä½œã€                     |
| é€šå¸¸ä¸æœƒåºåˆ—åŒ–ã€æ’¤éŠ· | é€šå¸¸æœƒæ­é… queueã€undoã€macro ç­‰æ‡‰ç”¨ |
